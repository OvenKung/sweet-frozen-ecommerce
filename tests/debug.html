<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç Debug Deployment - Sweet Frozen</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f0f0f0; }
        .info { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>üîç Deployment Debug Information</h1>
    
    <div class="info">
        <h3>üìÅ File Structure Check</h3>
        <div id="fileCheck"></div>
    </div>
    
    <div class="info">
        <h3>üåê Environment Info</h3>
        <div id="envInfo"></div>
    </div>
    
    <div class="info">
        <h3>üì± Responsive Test</h3>
        <div id="responsiveTest"></div>
    </div>
    
    <div class="info">
        <h3>üöÄ Deployment Status</h3>
        <div id="deploymentStatus"></div>
    </div>

    <script>
        // Check files exist
        async function checkFiles() {
            const files = [
                'index.html',
                'cart.html', 
                'product.html',
                'tests/responsive-test.html',
                'assets/css/styles.css',
                'assets/css/responsive-fixes.css',
                'assets/js/app.js',
                'assets/js/responsive-enhancer.js'
            ];
            
            const results = [];
            for (const file of files) {
                try {
                    const response = await fetch(file, { method: 'HEAD' });
                    results.push(`‚úÖ ${file} - ${response.status}`);
                } catch (error) {
                    results.push(`‚ùå ${file} - Error: ${error.message}`);
                }
            }
            
            document.getElementById('fileCheck').innerHTML = results.join('<br>');
        }
        
        // Environment info
        function showEnvInfo() {
            const info = [
                `URL: ${window.location.href}`,
                `Origin: ${window.location.origin}`,
                `Pathname: ${window.location.pathname}`,
                `User Agent: ${navigator.userAgent}`,
                `Screen: ${screen.width}x${screen.height}`,
                `Viewport: ${window.innerWidth}x${window.innerHeight}`,
                `Timestamp: ${new Date().toISOString()}`
            ];
            
            document.getElementById('envInfo').innerHTML = info.join('<br>');
        }
        
        // Responsive test
        function testResponsive() {
            const width = window.innerWidth;
            let breakpoint = 'Unknown';
            
            if (width >= 1536) breakpoint = '2XL (1536px+)';
            else if (width >= 1280) breakpoint = 'XL (1280px+)';
            else if (width >= 1024) breakpoint = 'LG (1024px+)';
            else if (width >= 768) breakpoint = 'MD (768px+)';
            else if (width >= 640) breakpoint = 'SM (640px+)';
            else breakpoint = 'XS (<640px)';
            
            const info = [
                `Current Breakpoint: ${breakpoint}`,
                `TailwindCSS: ${typeof tailwind !== 'undefined' ? '‚úÖ Loaded' : '‚ùå Not loaded'}`,
                `Responsive CSS: ${document.querySelector('link[href*="responsive-fixes"]') ? '‚úÖ Loaded' : '‚ùå Not loaded'}`,
                `Responsive JS: ${typeof ResponsiveEnhancer !== 'undefined' ? '‚úÖ Loaded' : '‚ùå Not loaded'}`
            ];
            
            document.getElementById('responsiveTest').innerHTML = info.join('<br>');
        }
        
        // Deployment status
        function checkDeployment() {
            const githubUrl = 'https://ovenkung.github.io/sweet-frozen-ecommerce/';
            const currentUrl = window.location.origin + window.location.pathname;
            
            const info = [
                `Expected URL: ${githubUrl}`,
                `Current URL: ${currentUrl}`,
                `Match: ${currentUrl.includes('ovenkung.github.io') ? '‚úÖ GitHub Pages' : '‚ùå Local/Other'}`,
                `HTTPS: ${window.location.protocol === 'https:' ? '‚úÖ Secure' : '‚ùå Not secure'}`,
                `Build Time: ${document.lastModified || 'Unknown'}`
            ];
            
            document.getElementById('deploymentStatus').innerHTML = info.join('<br>');
        }
        
        // Run all checks
        window.onload = function() {
            showEnvInfo();
            testResponsive();
            checkDeployment();
            checkFiles();
            
            // Update on resize
            window.addEventListener('resize', testResponsive);
        };
    </script>
</body>
</html>
